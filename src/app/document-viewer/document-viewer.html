<div class="layout-wrapper">
  <div class="layout-container">
    <div class="web-left-panel">
      <div class="preview-box">
        @for (file of files; track file.legalFileRecordId) {
          <div
            class="preview-box-item"
            [class.sub-item]="file.changesOnly"
            [class.selected]="
              selectedFile?.legalFileRecordId === file.legalFileRecordId
            "
            (click)="selectFile(file)"
          >
            <input
              class="preview-box-item"
              type="checkbox"
              value=""
              id="checkbox-{{ file.legalFileRecordId }}"
            />
            <p>{{ file.fileName }}</p>
          </div>
        }
      </div>
    </div>

    <div class="right-content-panel">
      <div class="mobile-preview-box">
        <div class="preview-box">
          @for (file of files; track file.legalFileRecordId) {
            <div
              class="preview-box-item"
              [class.sub-item]="file.changesOnly"
              [class.selected]="
                selectedFile?.legalFileRecordId === file.legalFileRecordId
              "
              (click)="selectFile(file)"
            >
              <input
                class="preview-box-item"
                type="checkbox"
                value=""
                id="checkbox-{{ file.legalFileRecordId }}"
              />
              <p>{{ file.fileName }}</p>
            </div>
          }
        </div>
      </div>

      <div class="header-bar">
        <div class="header-bar-item">
          <span class="label">Filename:</span
          ><span class="label">{{
            selectedFile?.fileName || 'No file selected'
          }}</span>
        </div>
        <div class="header-bar-item">
          <span class="label">Type:</span
          ><span class="label">{{ selectedFile?.type || 'N/A' }}</span>
        </div>
      </div>
      <div class="content-display">
        <span [class.hidden]="fileUrl" class="content-display-text"
          >No document selected, please select a document to view.</span
        >

        @defer {
          <pdf-viewer
            [class.hidden]="!fileUrl"
            [src]="fileUrl"
            [render-text]="true"
            [original-size]="false"
            [autoresize]="true"
            style="width: 100%; height: 100%"
          ></pdf-viewer>
        } @placeholder {
          <div>Loading PDF viewer...</div>
        } @loading {
          <div>Loading PDF...</div>
        }
      </div>
      <div class="button-group">
        <button class="button">Download</button>
        <button class="button">Open</button>
      </div>
    </div>
  </div>
</div>
